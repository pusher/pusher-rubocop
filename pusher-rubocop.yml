---
AllCops:
  Exclude:
    # Don't rubocop external dependencies when using direnv
    - '.direnv/**/*'
  # Makes it easier to find which cop is responsible for emitting the error
  DisplayCopNames: true
  DisplayStyleGuide: true
  ExtraDetails: true

# We use multi-line {...} for async blocks
Style/BlockDelimiters:
  Enabled: false

# We use multi-line block chains with async code
Style/MultilineBlockChain:
  Enabled: false

Style/FileName:
  # Don't apply the rule to executables. It's better to match the gem name
  # to the executable name.
  Exclude:
    - 'bin/*'

# Allows for easy diffing
# Keep them sorted alphabetically unless a meaningful order exists
Style/TrailingCommaInLiteral:
  # Requires a comma after the last argument, but only for
  # parenthesized method calls where each argument is on its own line.
  #
  # The goal is to limit unecessary noise in diffs and also unecessary comma
  # re-placement in case of changing the ordering.
  EnforcedStyleForMultiline: comma

Style/StringLiterals:
  # There is no speed benefit to single-quote string literals Syntax
  # highlighting shows if any interpolation is incurring
  #
  # It also means that when an interpolated variable is added to or removed
  # from the string the developer doesn't have to change the surrounding
  # quotes.
  #
  # One less thing to worry about
  EnforcedStyle: double_quotes

Style/DotPosition:
  #
  #   Foo.
  #     bar
  #
  # instead of
  #
  #   Foo
  #     .bar
  EnforcedStyle: trailing

Style/FirstParameterIndentation:
  EnforcedStyle: consistent

Style/MultilineMethodCallIndentation:
  EnforcedStyle: indented

Style/MultilineOperationIndentation:
  EnforcedStyle: indented

Style/SpecialGlobalVars:
  # Don't use crazy `Regexp.last_match[1]` instead of `$1`
  EnforcedStyle: use_perl_names

Style/AlignParameters:
  # The `with_fixed_indentation` style aligns the following lines with one
  # level of indentation relative to the start of the line with the method call.
  #
  #     method_call(a,
  #       b)
  EnforcedStyle: with_fixed_indentation

Style/Semicolon:
  # Allow ; to separate several expressions on the same line.
  AllowAsExpressionSeparator: true

Style/NumericLiterals:
  # Only enforce numeric separators from 1_000_000 for readability.
  MinDigits: 6

# `$1` is shorter than `Regexp.last_match[1]`
Style/PerlBackrefs:
  Enabled: false

# We don't care about the new `->(){}` lambda style
Style/Lambda:
  Enabled: false

# `module_function` is not strictly equivalent to `extend self`
Style/ModuleFunction:
  Enabled: false
